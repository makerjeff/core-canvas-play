<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paper.JS Tutorial 05 Tools Multi</title>

    <script src="/lib/paper-full.js"></script>

    <style>
        body {
            background: #dddddd;
        }

        #canvas {
            margin: 10px;
            padding: 10px;
            background: #ffffff;
            border: thin inset #aaaaaa;

            width: 600px;
            height: 300px;
        }

    </style>
</head>
<body>
<canvas id="myCanvas" resize="true" width="600" height="300">
    If you can read this, Canvas is not supported.
</canvas>

<button id="lines_button">Lines</button>
<button id="clouds_button">Clouds</button>
<button id="clear_button">Clear</button>

<!-- custom direct JS code -->
<script>

    // ref canvas and buttons
    var canvas = document.getElementById('myCanvas');
    var button1 = document.getElementById('lines_button');
    var button2 = document.getElementById('clouds_button');
    var button3 = document.getElementById('clear_button');

    // install Paper.js globally.
    paper.install(window);

    // ref global tools
    var tool1, tool2;

    // execute when DOM is ready
    window.addEventListener('load', function(e) {

        // create project and view for canvas
        paper.setup(canvas);

        // create two drawing tools.
        // tool1 will draw straight lines.
        // tool2 will draw clouds.

        // Both share the mouseDown event:
        var path;

        function onMouseDown(event) {
            path = new paper.Path();
            path.strokeColor = 'black';
            path.strokeWidth = 5;
            path.add(event.point);
        }

        tool1 = new paper.Tool();
        //tool1.minDistance = 20;
        tool1.onMouseDown = onMouseDown;

        tool1.onMouseDrag = function(event) {
            path.add(event.point);
        };

        tool2 = new paper.Tool();
        tool2.minDistance = 30;
        tool2.onMouseDown = onMouseDown;

        tool2.onMouseDrag = function(event) {
            // use the arcTo command to draw cloudy lines.
            path.arcTo(event.point);
        };





        // draw the view (JS requirement)
        paper.view.draw();


    });

    button1.addEventListener('click', function(e) {
        tool1.activate();
    });

    button2.addEventListener('click', function(e) {
        tool2.activate();
    });

    button3.addEventListener('click', function(e) {
        paper.project.activeLayer.removeChildren();
    });



</script>





</body>
</html>