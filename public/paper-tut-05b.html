<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paper.JS Tutorial 05 Tools Multi (practice)</title>

    <script src="/lib/paper-full.js"></script>

    <style>
        body {
            background: #dddddd;
        }

        #canvas {
            margin: 10px;
            padding: 10px;
            background: #ffffff;
            border: thin inset #aaaaaa;

            width: 600px;
            height: 300px;
        }

    </style>
</head>
<body>
<canvas id="myCanvas" resize="true" width="600" height="300">
    If you can read this, Canvas is not supported.
</canvas>

<button id="lines_button">Lines</button>
<button id="clouds_button">Clouds</button>
<button id="clear_button">Clear</button>

<!-- custom direct JS code -->
<script>
    // handles for canvas, buttons
    var canvas = document.getElementById('myCanvas');
    var button1 = document.getElementById('lines_button');
    var button2 = document.getElementById('clouds_button');
    var button3 = document.getElementById('clear_button');

    // create global reference to tools
    var tool1, tool2;

    // launch on-load (using JS)
    window.addEventListener('load', function(e) {
        // setup Paper
        paper.setup(canvas);

        // create window scope path object
        var path;

        // create shared mouseDown event
        function onMouseDown(event) {
            path = new paper.Path();
            path.strokeColor = 'black';
            path.strokeWidth = 5;
            path.add(event.point);
            console.log('Starting on point: ' + event.point);
        }

        // define tool1 specifics
        tool1 = new paper.Tool();
        tool1.onMouseDown = onMouseDown;
        tool1.onMouseDrag = function(e) {
            path.add(e.point);
            console.log('Adding point: ' + e.point);
        };

        // define tool2 specifics
        tool2 = new paper.Tool();
        tool2.onMouseDown = onMouseDown;
        tool2.minDistance = 30;

        tool2.onMouseDrag = function(e) {
            path.arcTo(e.point);
        };

        // draw Paper view
        paper.view.draw();
    });


    button1.addEventListener('click', function(e) {
        tool1.activate();
    });

    button2.addEventListener('click', function(e) {
        tool2.activate();
    });

    button3.addEventListener('click', function(e) {
        paper.project.activeLayer.removeChildren();
    });



</script>





</body>
</html>