<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CTX save and restore</title>

    <script src="/lib/paper-full.js"></script>

    <style>

        html, body {
            margin: 0;
            padding: 0;
            background: #ffffff;
        }

        #canvas {
            margin: 0;
            padding: 0;
            /*background: #ffffff;*/
            border: thin solid black;

            width: 600px;
            height: 600px;
        }

    </style>
</head>
<body>
<canvas id="canvas" resize="true" width="600" height="600">
    If you can read this, Canvas is not supported.
    Tutorial from here:
    https://html5.litten.com/understanding-save-and-restore-for-the-canvas-context/
</canvas>


<!-- custom direct JS code -->
<script>
    var canvas, context;

    function init() {
        canvas = document.getElementById('canvas');
        context = canvas.getContext('2d');
        draw();
    }

    function draw() {

        // first object and style
        context.fillStyle = '#FA6900';
        context.shadowOffsetX = 5;
        context.shadowOffsetY = 5;
        context.shadowBlur = 4;
        context.shadowColor = 'rgba(204,204,204,0.5)';
        context.fillRect(0, 0, 15, 150);
        context.save();

        // second object and style
        context.fillStyle = '#E0E4CD';
        context.shadowOffsetX = 10;
        context.shadowOffsetY = 10;
        context.shadowBlur = 4;
        context.shadowColor = 'rgba(204,204,204,0.5)';
        context.fillRect(30, 0, 30, 150);
        context.save();

        // third object and style
        context.fillStyle = '#A7DBD7';
        context.shadowOffsetX = 15;
        context.shadowOffsetY = 15;
        context.shadowBlur = 4;
        context.shadowColor = 'rgba(204,204,204,0.5)';
        context.fillRect(90, 0, 45, 150);
        context.save();

        // fourth object, using third style
        context.restore();
        context.beginPath();
        context.arc(185, 75, 22, 0, Math.PI*2, true);
        context.closePath();
        context.fill();

        // fifth object, using second style
        context.restore();
        context.beginPath();
        context.arc(260, 75, 15, 0, Math.PI*2, true);
        context.closePath();
        context.fill();

        // sixth object, using first style
        context.restore();
        context.beginPath();
        context.arc(305, 75, 8, 0, Math.PI*2, true);
        context.closePath();
        context.fill();
    }

    window.onload = function(e) {
        init();
    };
</script>





</body>
</html>